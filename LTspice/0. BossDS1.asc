Version 4
SHEET 1 6076 2100
WIRE 16 16 0 16
WIRE 1040 16 1024 16
WIRE 1904 16 1888 16
WIRE 2048 16 1904 16
WIRE 2128 16 2048 16
WIRE 2256 16 2128 16
WIRE 2256 48 2256 16
WIRE 16 128 16 16
WIRE 1040 128 1040 16
WIRE 1904 128 1904 16
WIRE 2048 128 2048 16
WIRE 2128 128 2128 16
WIRE 2256 160 2256 128
WIRE 2400 160 2256 160
WIRE 2416 160 2400 160
WIRE 2256 192 2256 160
WIRE 2400 208 2400 160
WIRE 1904 304 1904 208
WIRE 2048 304 2048 192
WIRE 2048 304 1904 304
WIRE 2128 304 2128 192
WIRE 2128 304 2048 304
WIRE 2256 304 2256 272
WIRE 2256 304 2128 304
WIRE 2400 304 2400 272
WIRE 2400 304 2256 304
WIRE 16 320 16 208
WIRE 1040 320 1040 208
WIRE 1904 336 1904 304
WIRE 688 480 672 480
WIRE -416 496 -432 496
WIRE 688 512 688 480
WIRE 2224 512 2176 512
WIRE 2368 512 2304 512
WIRE 2512 512 2432 512
WIRE 2512 560 2512 512
WIRE 560 624 496 624
WIRE 688 624 688 592
WIRE 688 624 624 624
WIRE 2176 624 2176 512
WIRE 1584 672 1392 672
WIRE 1840 672 1648 672
WIRE 1984 672 1920 672
WIRE 2096 672 1984 672
WIRE -416 688 -416 496
WIRE 1984 704 1984 672
WIRE 1760 720 1744 720
WIRE -896 736 -992 736
WIRE -736 736 -816 736
WIRE -592 736 -672 736
WIRE -480 736 -592 736
WIRE 496 736 496 624
WIRE 544 736 496 736
WIRE 688 736 688 624
WIRE 688 736 624 736
WIRE 1504 736 1488 736
WIRE 1760 752 1760 720
WIRE 688 768 688 736
WIRE 784 768 688 768
WIRE 928 768 848 768
WIRE 1072 768 928 768
WIRE 1504 768 1504 736
WIRE 1648 768 1648 672
WIRE 1728 768 1648 768
WIRE 688 784 688 768
WIRE 1392 784 1392 672
WIRE 1472 784 1392 784
WIRE 1984 784 1984 768
WIRE 1984 784 1792 784
WIRE 2176 784 2176 720
WIRE 2176 784 1984 784
WIRE 2592 784 2176 784
WIRE -592 800 -592 736
WIRE 1584 800 1584 672
WIRE 1584 800 1536 800
WIRE 1728 800 1584 800
WIRE 1072 816 1072 768
WIRE 1200 816 1072 816
WIRE 1392 816 1280 816
WIRE 1472 816 1392 816
WIRE -416 832 -416 784
WIRE -304 832 -416 832
WIRE -160 832 -240 832
WIRE 208 832 -160 832
WIRE 320 832 208 832
WIRE 496 832 496 736
WIRE 496 832 384 832
WIRE 624 832 496 832
WIRE 928 832 928 768
WIRE 1504 848 1504 832
WIRE 1760 848 1760 816
WIRE -416 880 -416 832
WIRE -160 880 -160 832
WIRE 208 880 208 832
WIRE 1392 896 1392 816
WIRE -592 912 -592 880
WIRE -592 912 -608 912
WIRE 496 928 496 832
WIRE 688 928 688 880
WIRE 928 944 928 912
WIRE 928 944 912 944
WIRE -160 992 -160 960
WIRE -160 992 -176 992
WIRE 208 992 208 960
WIRE 208 992 192 992
WIRE -416 1008 -416 960
WIRE 1392 1008 1392 960
WIRE 496 1040 496 1008
WIRE 688 1040 688 1008
WIRE 2592 1104 2592 784
WIRE 2592 1104 -992 1104
WIRE 2048 1200 2032 1200
WIRE 192 1216 32 1216
WIRE 416 1216 192 1216
WIRE 192 1264 192 1216
WIRE 416 1264 416 1216
WIRE 2048 1296 2048 1200
WIRE 1648 1344 1424 1344
WIRE 1744 1344 1648 1344
WIRE 1888 1344 1808 1344
WIRE 1984 1344 1888 1344
WIRE -992 1376 -992 1104
WIRE -848 1376 -992 1376
WIRE -720 1376 -768 1376
WIRE -592 1376 -656 1376
WIRE -384 1376 -592 1376
WIRE -256 1376 -384 1376
WIRE 32 1376 32 1216
WIRE 32 1376 -256 1376
WIRE 416 1376 416 1344
WIRE 416 1376 288 1376
WIRE 1648 1392 1648 1344
WIRE 1888 1392 1888 1344
WIRE 192 1408 192 1328
WIRE 416 1408 416 1376
WIRE 2048 1440 2048 1392
WIRE 2176 1440 2048 1440
WIRE 2304 1440 2256 1440
WIRE 2416 1440 2368 1440
WIRE 2592 1440 2416 1440
WIRE -592 1456 -592 1376
WIRE -384 1456 -384 1376
WIRE -256 1456 -256 1376
WIRE 768 1456 496 1456
WIRE 1648 1504 1648 1472
WIRE 1648 1504 1632 1504
WIRE 1888 1504 1888 1472
WIRE 1888 1504 1872 1504
WIRE 2048 1536 2048 1440
WIRE 2416 1536 2416 1440
WIRE 768 1552 768 1456
WIRE 192 1568 192 1488
WIRE 416 1568 416 1504
WIRE 416 1568 192 1568
WIRE -592 1600 -592 1520
WIRE -384 1600 -384 1520
WIRE -384 1600 -592 1600
WIRE -256 1600 -256 1520
WIRE -256 1600 -384 1600
WIRE 288 1600 288 1376
WIRE 416 1600 416 1568
WIRE 1072 1600 848 1600
WIRE 1424 1600 1424 1344
WIRE 1424 1600 1152 1600
WIRE -592 1664 -592 1600
WIRE -592 1664 -608 1664
WIRE 2048 1696 2048 1616
WIRE 2416 1696 2416 1616
WIRE 288 1712 288 1664
WIRE 416 1712 416 1680
WIRE 416 1712 288 1712
WIRE 576 1712 416 1712
WIRE 768 1712 768 1648
WIRE 768 1712 576 1712
WIRE 576 1776 576 1712
WIRE 576 1776 560 1776
FLAG 1904 336 0
FLAG 1888 16 +9V
IOPIN 1888 16 In
FLAG 2416 160 +4.5V
IOPIN 2416 160 In
FLAG 1040 320 0
FLAG -416 1008 0
FLAG -608 912 +4.5V
IOPIN -608 912 In
FLAG -432 496 +9V
IOPIN -432 496 In
FLAG 496 1040 0
FLAG 688 1040 0
FLAG -176 992 +4.5V
IOPIN -176 992 In
FLAG 672 480 +9V
IOPIN 672 480 In
FLAG 912 944 +4.5V
IOPIN 912 944 In
FLAG 16 320 0
FLAG 1392 1008 0
FLAG 1488 736 +9V
IOPIN 1488 736 In
FLAG 1504 848 0
FLAG 1744 720 +9V
IOPIN 1744 720 In
FLAG 1760 848 0
FLAG 2512 560 0
FLAG -608 1664 +4.5V
IOPIN -608 1664 In
FLAG 2592 1440 OUT
IOPIN 2592 1440 In
FLAG 560 1776 +4.5V
IOPIN 560 1776 In
FLAG 1024 16 IN
IOPIN 1024 16 In
FLAG 2048 1696 0
FLAG 2416 1696 0
FLAG 1632 1504 +4.5V
IOPIN 1632 1504 In
FLAG 1872 1504 +4.5V
IOPIN 1872 1504 In
FLAG 2032 1200 +9V
IOPIN 2032 1200 In
FLAG -992 736 IN
IOPIN -992 736 In
FLAG 192 992 +4.5V
IOPIN 192 992 In
SYMBOL voltage 1904 112 R0
WINDOW 0 -85 53 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vps
SYMATTR Value 9
SYMBOL cap 2112 128 R0
SYMATTR InstName C23
SYMATTR Value 100µ
SYMBOL cap 2384 208 R0
SYMATTR InstName C15
SYMATTR Value 47µ
SYMBOL res 2240 32 R0
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL res 2240 176 R0
SYMATTR InstName R25
SYMATTR Value 10k
SYMBOL diode 2064 192 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4007
SYMBOL voltage 1040 112 R0
WINDOW 3 -179 185 Left 2
WINDOW 123 48 55 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -83 52 Left 2
SYMATTR Value {DC_OFFSET}
SYMATTR Value2 AC {AC_AMPLITUDE} {AC_PHASE}
SYMATTR InstName Vac
SYMBOL res -800 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res -608 784 R0
SYMATTR InstName R2
SYMATTR Value 470k
SYMBOL res -400 976 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap -672 720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 47n
SYMBOL npn -480 688 R0
SYMATTR InstName Q1
SYMATTR Value 2SC2240
SYMBOL cap -240 816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.47µ
SYMBOL cap 384 816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 47n
SYMBOL cap 624 608 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 250p
SYMBOL npn 624 784 R0
SYMATTR InstName Q2
SYMATTR Value 2SC2240
SYMBOL res -176 864 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res 480 912 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 640 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 470k
SYMBOL res 672 496 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 672 912 R0
SYMATTR InstName R9
SYMATTR Value 22
SYMBOL cap 848 752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 68n
SYMBOL res 912 816 R0
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL res 192 864 R0
SYMATTR InstName R5
SYMATTR Value 1Meg
SYMBOL voltage 16 112 R0
WINDOW 3 48 55 Left 2
WINDOW 123 29 129 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -76 52 Left 2
SYMATTR Value SINE({DC_OFFSET} {AMPLITUDE} {FREQUENCY})
SYMATTR InstName Vtr
SYMBOL res 1296 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R39
SYMATTR Value 47k
SYMBOL diode 1408 960 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMATTR Value 1S1588
SYMBOL res 1936 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL cap 1968 704 R0
SYMATTR InstName C7
SYMATTR Value 100p
SYMBOL pot 2192 624 M0
WINDOW 39 -321 78 Left 2
WINDOW 0 -54 18 Left 2
SYMATTR SpiceLine R=100k p={DISTORTION}
SYMATTR InstName VR1
SYMBOL res 2320 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 4.7k
SYMBOL cap 2432 496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 0.47µ
SYMBOL res -752 1360 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 2.2k
SYMBOL cap -656 1360 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 0.47µ
SYMBOL diode -368 1520 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1S1588
SYMBOL diode -272 1456 R0
SYMATTR InstName D5
SYMATTR Value 1S1588
SYMBOL cap -608 1456 R0
SYMATTR InstName C10
SYMATTR Value 0.01µ
SYMBOL OpAmps\\UniversalOpAmp2 1504 800 R0
SYMATTR InstName OP1
SYMBOL OpAmps\\UniversalOpAmp2 1760 784 R0
SYMATTR InstName OP2
SYMBOL cap 176 1264 R0
SYMATTR InstName C11
SYMATTR Value 22n
SYMBOL res 176 1392 R0
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMBOL res 400 1248 R0
SYMATTR InstName R16
SYMATTR Value 6.8k
SYMBOL pot 400 1504 M180
WINDOW 39 34 14 Left 2
WINDOW 0 35 82 Left 2
SYMATTR SpiceLine R=20k p={TONE}
SYMATTR InstName VR2
SYMBOL res 400 1584 R0
SYMATTR InstName R17
SYMATTR Value 6.8k
SYMBOL cap 272 1600 R0
SYMATTR InstName C12
SYMATTR Value 0.1µ
SYMBOL pot 752 1552 R0
SYMATTR SpiceLine R=100k p={LEVEL}
SYMATTR InstName VR3
SYMBOL res 1168 1584 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL res 1632 1376 R0
SYMATTR InstName R19
SYMATTR Value 1Meg
SYMBOL res 1872 1376 R0
SYMATTR InstName R20
SYMATTR Value 1Meg
SYMBOL res 2032 1520 R0
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL res 2272 1424 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL res 2400 1520 R0
SYMATTR InstName R23
SYMATTR Value 100k
SYMBOL cap 1808 1328 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 47n
SYMBOL cap 2368 1424 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 1µ
SYMBOL npn 1984 1296 R0
SYMATTR InstName Q3
SYMATTR Value 2SC2240
TEXT 2288 8 Left 4 ;Power Supply
TEXT -904 600 Left 4 ;Input Buffer
TEXT -776 8 Left 4 ;Component Parameters
TEXT 1088 240 Left 2 !.ac dec 100 {START_FREQ} {STOP_FREQ}
TEXT 72 536 Left 4 ;Transistor Amplifier
TEXT 64 240 Left 2 ;.tran {SIMULATION_TIME}
TEXT -600 104 Left 2 ;.step param DISTORTION 0 1 0.25
TEXT 1304 568 Left 4 ;Operational Amplifier
TEXT -720 1248 Left 4 ;Diode Clipper
TEXT -600 136 Left 2 ;.step param TONE 0 1 0.25
TEXT 728 1304 Left 4 ;Passive Filter
TEXT 2136 1208 Left 4 ;Output Buffer
TEXT 64 208 Left 2 !.param SIMULATION_TIME={10/FREQUENCY}
TEXT 160 8 Left 4 ;Transient Analysis
TEXT 64 128 Left 2 !.param DC_OFFSET=0 AMPLITUDE=0.2 FREQUENCY=1000
TEXT 1184 8 Left 4 ;AC Analysis
TEXT 1088 128 Left 2 !.param AC_AMPLITUDE=1 AC_PHASE=0
TEXT 1088 208 Left 2 !.param START_FREQ=1 STOP_FREQ=44100/2
TEXT -912 264 Left 2 !.model 2SC2240 NPN(Is=6.734f Bf=200 Br=0.1)
TEXT -912 232 Left 2 !.model 1S1588 D(Is=2.52n N=1.752)
TEXT -912 136 Left 2 !.param TONE=0.5
TEXT -912 168 Left 2 !.param LEVEL=1
TEXT -600 168 Left 2 ;.step param LEVEL 0 1 0.25
TEXT -912 104 Left 2 !.param DISTORTION=0.5
LINE Normal 1344 1904 -16 1904 1
LINE Normal 1344 1600 1344 1904 1
LINE Normal -16 832 -16 1904 1
RECTANGLE Normal -64 1072 -960 448
RECTANGLE Normal 1024 1072 32 448
RECTANGLE Normal 2560 1072 1120 448
RECTANGLE Normal -112 1824 -960 1136
RECTANGLE Normal 1248 1824 80 1136
RECTANGLE Normal 2560 1824 1504 1136
RECTANGLE Normal 768 368 -96 -48
RECTANGLE Normal 1728 368 848 -48
RECTANGLE Normal 2560 368 1792 -48
RECTANGLE Normal -160 368 -960 -48
