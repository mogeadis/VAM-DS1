Version 4
SHEET 1 6076 2100
WIRE 16 16 0 16
WIRE 1040 16 1024 16
WIRE 1904 16 1888 16
WIRE 2048 16 1904 16
WIRE 2128 16 2048 16
WIRE 2256 16 2128 16
WIRE 2256 48 2256 16
WIRE 16 128 16 16
WIRE 1040 128 1040 16
WIRE 1904 128 1904 16
WIRE 2048 128 2048 16
WIRE 2128 128 2128 16
WIRE 2256 160 2256 128
WIRE 2400 160 2256 160
WIRE 2416 160 2400 160
WIRE 2256 192 2256 160
WIRE 2400 208 2400 160
WIRE 1904 304 1904 208
WIRE 2048 304 2048 192
WIRE 2048 304 1904 304
WIRE 2128 304 2128 192
WIRE 2128 304 2048 304
WIRE 2256 304 2256 272
WIRE 2256 304 2128 304
WIRE 2400 304 2400 272
WIRE 2400 304 2256 304
WIRE 16 320 16 208
WIRE 1040 320 1040 208
WIRE 1904 336 1904 304
WIRE 320 464 304 464
WIRE 1360 480 1344 480
WIRE 1360 576 1360 480
WIRE 960 624 736 624
WIRE 1056 624 960 624
WIRE 1200 624 1120 624
WIRE 1296 624 1200 624
WIRE 320 656 320 464
WIRE 960 672 960 624
WIRE 1200 672 1200 624
WIRE -160 704 -256 704
WIRE 0 704 -80 704
WIRE 144 704 64 704
WIRE 256 704 144 704
WIRE 1360 720 1360 672
WIRE 1488 720 1360 720
WIRE 1616 720 1568 720
WIRE 1728 720 1680 720
WIRE 1904 720 1728 720
WIRE 144 768 144 704
WIRE 960 784 960 752
WIRE 960 784 944 784
WIRE 1200 784 1200 752
WIRE 1200 784 1184 784
WIRE 320 800 320 752
WIRE 432 800 320 800
WIRE 576 800 496 800
WIRE 736 800 736 624
WIRE 736 800 576 800
WIRE 1360 816 1360 720
WIRE 1728 816 1728 720
WIRE 320 848 320 800
WIRE 576 848 576 800
WIRE 144 880 144 848
WIRE 144 880 128 880
WIRE 576 960 576 928
WIRE 576 960 560 960
WIRE 320 976 320 928
WIRE 1360 976 1360 896
WIRE 1728 976 1728 896
FLAG 1904 336 0
FLAG 1888 16 +9V
IOPIN 1888 16 In
FLAG 2416 160 +4.5V
IOPIN 2416 160 In
FLAG 1040 320 0
FLAG 320 976 0
FLAG 128 880 +4.5V
IOPIN 128 880 In
FLAG 304 464 +9V
IOPIN 304 464 In
FLAG 560 960 +4.5V
IOPIN 560 960 In
FLAG 16 320 0
FLAG 1904 720 OUT
IOPIN 1904 720 In
FLAG 1024 16 IN
IOPIN 1024 16 In
FLAG 1360 976 0
FLAG 1728 976 0
FLAG 944 784 +4.5V
IOPIN 944 784 In
FLAG 1184 784 +4.5V
IOPIN 1184 784 In
FLAG 1344 480 +9V
IOPIN 1344 480 In
FLAG -256 704 IN
IOPIN -256 704 In
SYMBOL voltage 1904 112 R0
WINDOW 0 -85 53 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vps
SYMATTR Value 9
SYMBOL cap 2112 128 R0
SYMATTR InstName C23
SYMATTR Value 100µ
SYMBOL cap 2384 208 R0
SYMATTR InstName C15
SYMATTR Value 47µ
SYMBOL res 2240 32 R0
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL res 2240 176 R0
SYMATTR InstName R25
SYMATTR Value 10k
SYMBOL diode 2064 192 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4007
SYMBOL voltage 1040 112 R0
WINDOW 3 -179 185 Left 2
WINDOW 123 48 55 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -83 52 Left 2
SYMATTR Value {DC_OFFSET}
SYMATTR Value2 AC {AC_AMPLITUDE} {AC_PHASE}
SYMATTR InstName Vac
SYMBOL res -64 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 128 752 R0
SYMATTR InstName R2
SYMATTR Value 470k
SYMBOL res 336 944 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 64 688 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 47n
SYMBOL npn 256 656 R0
SYMATTR InstName Q1
SYMATTR Value 2SC2240
SYMBOL cap 496 784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.47µ
SYMBOL res 560 832 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL voltage 16 112 R0
WINDOW 3 48 55 Left 2
WINDOW 123 29 129 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -76 52 Left 2
SYMATTR Value SINE({DC_OFFSET} {AMPLITUDE} {FREQUENCY})
SYMATTR InstName Vtr
SYMBOL res 944 656 R0
SYMATTR InstName R19
SYMATTR Value 1Meg
SYMBOL res 1184 656 R0
SYMATTR InstName R20
SYMATTR Value 1Meg
SYMBOL res 1344 800 R0
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL res 1584 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL res 1712 800 R0
SYMATTR InstName R23
SYMATTR Value 100k
SYMBOL cap 1120 608 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 47n
SYMBOL cap 1680 704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 1µ
SYMBOL npn 1296 576 R0
SYMATTR InstName Q3
SYMATTR Value 2SC2240
TEXT 2288 8 Left 4 ;Power Supply
TEXT -168 568 Left 4 ;Input Buffer
TEXT -776 8 Left 4 ;Component Parameters
TEXT 1088 240 Left 2 !.ac dec 100 {START_FREQ} {STOP_FREQ}
TEXT 64 240 Left 2 ;.tran {SIMULATION_TIME}
TEXT -600 104 Left 2 ;.step param DISTORTION 0 1 0.25
TEXT -600 136 Left 2 ;.step param TONE 0 1 0.25
TEXT 1448 488 Left 4 ;Output Buffer
TEXT 64 208 Left 2 !.param SIMULATION_TIME={10/FREQUENCY}
TEXT 160 8 Left 4 ;Transient Analysis
TEXT 64 128 Left 2 !.param DC_OFFSET=0 AMPLITUDE=0.2 FREQUENCY=1000
TEXT 1184 8 Left 4 ;AC Analysis
TEXT 1088 128 Left 2 !.param AC_AMPLITUDE=1 AC_PHASE=0
TEXT 1088 208 Left 2 !.param START_FREQ=1 STOP_FREQ=44100/2
TEXT -912 264 Left 2 !.model 2SC2240 NPN(Is=6.734f Bf=200 Br=0.1)
TEXT -912 232 Left 2 !.model 1S1588 D(Is=2.52n N=1.752)
TEXT -912 136 Left 2 !.param TONE=0.5
TEXT -912 168 Left 2 !.param LEVEL=1
TEXT -600 168 Left 2 ;.step param LEVEL 0 1 0.25
TEXT -912 104 Left 2 !.param DISTORTION=0.5
RECTANGLE Normal 672 1040 -224 416
RECTANGLE Normal 1856 1040 800 416
RECTANGLE Normal 768 368 -96 -48
RECTANGLE Normal 1728 368 848 -48
RECTANGLE Normal 2560 368 1792 -48
RECTANGLE Normal -160 368 -960 -48
