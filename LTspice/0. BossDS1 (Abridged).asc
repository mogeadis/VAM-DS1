Version 4
SHEET 1 6076 2100
WIRE 16 16 0 16
WIRE 1040 16 1024 16
WIRE 1952 96 1936 96
WIRE 2192 96 2176 96
WIRE 2448 96 2432 96
WIRE 16 128 16 16
WIRE 1040 128 1040 16
WIRE 1952 144 1952 96
WIRE 2192 144 2192 96
WIRE 2448 144 2448 96
WIRE 1952 272 1952 224
WIRE 2192 272 2192 224
WIRE 2448 272 2448 224
WIRE 16 320 16 208
WIRE 1040 320 1040 208
WIRE 272 480 256 480
WIRE 272 512 272 480
WIRE 1504 512 1456 512
WIRE 1648 512 1584 512
WIRE 1792 512 1712 512
WIRE 1792 560 1792 512
WIRE 144 624 80 624
WIRE 272 624 272 592
WIRE 272 624 208 624
WIRE 1456 624 1456 512
WIRE 1264 672 912 672
WIRE 1376 672 1264 672
WIRE 1264 704 1264 672
WIRE 1040 720 1024 720
WIRE 80 736 80 624
WIRE 128 736 80 736
WIRE 272 736 272 624
WIRE 272 736 208 736
WIRE 1040 752 1040 720
WIRE 272 768 272 736
WIRE 368 768 272 768
WIRE 512 768 432 768
WIRE 768 768 512 768
WIRE 912 768 912 672
WIRE 1008 768 912 768
WIRE 272 784 272 768
WIRE 1264 784 1264 768
WIRE 1264 784 1072 784
WIRE 1456 784 1456 720
WIRE 1456 784 1264 784
WIRE 1936 784 1456 784
WIRE 768 800 768 768
WIRE 1008 800 768 800
WIRE -96 832 -304 832
WIRE 80 832 80 736
WIRE 80 832 -32 832
WIRE 208 832 80 832
WIRE 512 832 512 768
WIRE 1040 848 1040 816
WIRE 1040 848 1024 848
WIRE 80 928 80 832
WIRE 272 928 272 880
WIRE 512 944 512 912
WIRE 80 1040 80 1008
WIRE 272 1040 272 1008
WIRE 1936 1104 1936 784
WIRE 1936 1104 -320 1104
WIRE 928 1216 672 1216
WIRE 1152 1216 928 1216
WIRE 928 1264 928 1216
WIRE 1152 1264 1152 1216
WIRE -320 1376 -320 1104
WIRE -160 1376 -320 1376
WIRE -32 1376 -80 1376
WIRE 96 1376 32 1376
WIRE 304 1376 96 1376
WIRE 432 1376 304 1376
WIRE 672 1376 672 1216
WIRE 672 1376 432 1376
WIRE 1152 1376 1152 1344
WIRE 1152 1376 1024 1376
WIRE 928 1408 928 1328
WIRE 1152 1408 1152 1376
WIRE 96 1456 96 1376
WIRE 304 1456 304 1376
WIRE 432 1456 432 1376
WIRE 1504 1456 1232 1456
WIRE 1504 1536 1504 1456
WIRE 928 1568 928 1488
WIRE 1152 1568 1152 1504
WIRE 1152 1568 928 1568
WIRE 1888 1584 1584 1584
WIRE 96 1600 96 1520
WIRE 304 1600 304 1520
WIRE 304 1600 96 1600
WIRE 432 1600 432 1520
WIRE 432 1600 304 1600
WIRE 1024 1600 1024 1376
WIRE 1152 1600 1152 1568
WIRE 96 1664 96 1600
WIRE 1024 1712 1024 1664
WIRE 1152 1712 1152 1680
WIRE 1152 1712 1024 1712
WIRE 1312 1712 1152 1712
WIRE 1504 1712 1504 1632
WIRE 1504 1712 1312 1712
WIRE 1312 1776 1312 1712
FLAG 1952 272 0
FLAG 1936 96 +9V
IOPIN 1936 96 In
FLAG 1040 320 0
FLAG 80 1040 0
FLAG 272 1040 0
FLAG 256 480 +9V
IOPIN 256 480 In
FLAG 16 320 0
FLAG 1792 560 0
FLAG 1888 1584 OUT
IOPIN 1888 1584 In
FLAG 1024 16 IN
IOPIN 1024 16 In
FLAG -304 832 IN
IOPIN -304 832 In
FLAG 512 944 0
FLAG 96 1664 0
FLAG 1312 1776 0
FLAG 2192 272 0
FLAG 2176 96 +4.5V
IOPIN 2176 96 In
FLAG 2448 272 0
FLAG 2432 96 -4.5V
IOPIN 2432 96 In
FLAG 1024 720 +4.5V
IOPIN 1024 720 In
FLAG 1024 848 -4.5V
IOPIN 1024 848 In
SYMBOL voltage 1952 128 R0
WINDOW 0 -93 57 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vps
SYMATTR Value 9
SYMBOL voltage 1040 112 R0
WINDOW 3 -179 185 Left 2
WINDOW 123 48 55 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -83 52 Left 2
SYMATTR Value {DC_OFFSET}
SYMATTR Value2 AC {AC_AMPLITUDE} {AC_PHASE}
SYMATTR InstName Vac
SYMBOL cap -32 816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 47n
SYMBOL cap 208 608 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 250p
SYMBOL npn 208 784 R0
SYMATTR InstName Q2
SYMATTR Value 2SC2240
SYMBOL res 64 912 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 224 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 470k
SYMBOL res 256 496 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 256 912 R0
SYMATTR InstName R9
SYMATTR Value 22
SYMBOL cap 432 752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 68n
SYMBOL res 496 816 R0
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL voltage 16 112 R0
WINDOW 3 48 55 Left 2
WINDOW 123 29 129 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -76 52 Left 2
SYMATTR Value SINE({DC_OFFSET} {AMPLITUDE} {FREQUENCY})
SYMATTR InstName Vtr
SYMBOL cap 1248 704 R0
SYMATTR InstName C7
SYMATTR Value 100p
SYMBOL pot 1472 624 M0
WINDOW 39 -321 78 Left 2
WINDOW 0 -54 18 Left 2
SYMATTR SpiceLine R=100k p={DISTORTION}
SYMATTR InstName VR1
SYMBOL res 1600 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 4.7k
SYMBOL cap 1712 496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 0.47µ
SYMBOL res -64 1360 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 2.2k
SYMBOL cap 32 1360 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 0.47µ
SYMBOL diode 320 1520 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1S1588
SYMBOL diode 416 1456 R0
SYMATTR InstName D5
SYMATTR Value 1S1588
SYMBOL cap 80 1456 R0
SYMATTR InstName C10
SYMATTR Value 0.01µ
SYMBOL OpAmps\\UniversalOpAmp2 1040 784 R0
SYMATTR InstName OP2
SYMBOL cap 912 1264 R0
SYMATTR InstName C11
SYMATTR Value 22n
SYMBOL res 912 1392 R0
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMBOL res 1136 1248 R0
SYMATTR InstName R16
SYMATTR Value 6.8k
SYMBOL pot 1136 1504 M180
WINDOW 39 34 14 Left 2
WINDOW 0 35 82 Left 2
SYMATTR SpiceLine R=20k p={TONE}
SYMATTR InstName VR2
SYMBOL res 1136 1584 R0
SYMATTR InstName R17
SYMATTR Value 6.8k
SYMBOL cap 1008 1600 R0
SYMATTR InstName C12
SYMATTR Value 0.1µ
SYMBOL voltage 2192 128 R0
WINDOW 0 -135 56 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName +Vps/2
SYMATTR Value 4.5
SYMBOL voltage 2448 128 R0
WINDOW 0 -129 52 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName -Vps/2
SYMATTR Value -4.5
SYMBOL pot 1488 1536 R0
SYMATTR SpiceLine R=100k p={LEVEL}
SYMATTR InstName VR3
TEXT 2064 8 Left 4 ;Power Supply
TEXT -776 8 Left 4 ;Component Parameters
TEXT 1088 240 Left 2 !.ac dec 100 {START_FREQ} {STOP_FREQ}
TEXT -232 536 Left 4 ;Transistor Amplifier
TEXT 64 240 Left 2 ;.tran {SIMULATION_TIME}
TEXT -600 104 Left 2 ;.step param DISTORTION 0 1 0.25
TEXT 896 544 Left 4 ;Operational Amplifier
TEXT -32 1248 Left 4 ;Diode Clipper
TEXT -600 136 Left 2 ;.step param TONE 0 1 0.25
TEXT 1296 1256 Left 4 ;Passive Filter
TEXT 64 208 Left 2 !.param SIMULATION_TIME={10/FREQUENCY}
TEXT 160 8 Left 4 ;Transient Analysis
TEXT 64 128 Left 2 !.param DC_OFFSET=0 AMPLITUDE=0.2 FREQUENCY=1000
TEXT 1184 8 Left 4 ;AC Analysis
TEXT 1088 128 Left 2 !.param AC_AMPLITUDE=1 AC_PHASE=0
TEXT 1088 208 Left 2 !.param START_FREQ=1 STOP_FREQ=44100/2
TEXT -912 264 Left 2 !.model 2SC2240 NPN(Is=6.734f Bf=200 Br=0.1)
TEXT -912 232 Left 2 !.model 1S1588 D(Is=2.52n N=1.752)
TEXT -912 136 Left 2 !.param TONE=0.5
TEXT -912 168 Left 2 !.param LEVEL=1
TEXT -600 168 Left 2 ;.step param LEVEL 0 1 0.25
TEXT -912 104 Left 2 !.param DISTORTION=0.5
RECTANGLE Normal 720 1072 -272 448
RECTANGLE Normal 1856 1072 816 448
RECTANGLE Normal 576 1824 -272 1136
RECTANGLE Normal 1856 1824 768 1136
RECTANGLE Normal 768 368 -96 -48
RECTANGLE Normal 1728 368 848 -48
RECTANGLE Normal 2560 368 1792 -48
RECTANGLE Normal -160 368 -960 -48
