Version 4
SHEET 1 6076 2100
WIRE 16 16 0 16
WIRE 1040 16 1024 16
WIRE 1952 96 1936 96
WIRE 2192 96 2176 96
WIRE 2448 96 2432 96
WIRE 16 128 16 16
WIRE 1040 128 1040 16
WIRE 1952 144 1952 96
WIRE 2192 144 2192 96
WIRE 2448 144 2448 96
WIRE 1952 272 1952 224
WIRE 2192 272 2192 224
WIRE 2448 272 2448 224
WIRE 16 320 16 208
WIRE 1040 320 1040 208
WIRE 960 512 912 512
WIRE 1104 512 1040 512
WIRE 1248 512 1168 512
WIRE 1248 560 1248 512
WIRE 912 624 912 512
WIRE 720 672 368 672
WIRE 832 672 720 672
WIRE 720 704 720 672
WIRE 496 720 480 720
WIRE 496 752 496 720
WIRE 368 768 368 672
WIRE 464 768 368 768
WIRE 720 784 720 768
WIRE 720 784 528 784
WIRE 912 784 912 720
WIRE 912 784 720 784
WIRE 1360 784 912 784
WIRE 464 800 240 800
WIRE 496 848 496 816
WIRE 496 848 480 848
FLAG 1040 320 0
FLAG 16 320 0
FLAG 1248 560 0
FLAG 1360 784 OUT
IOPIN 1360 784 In
FLAG 1024 16 IN
IOPIN 1024 16 In
FLAG 240 800 IN
IOPIN 240 800 In
FLAG 1952 272 0
FLAG 1936 96 +9V
IOPIN 1936 96 In
FLAG 2192 272 0
FLAG 2176 96 +4.5V
IOPIN 2176 96 In
FLAG 2448 272 0
FLAG 2432 96 -4.5V
IOPIN 2432 96 In
FLAG 480 720 +4.5V
IOPIN 480 720 In
FLAG 480 848 -4.5V
IOPIN 480 848 In
SYMBOL voltage 1040 112 R0
WINDOW 3 -179 185 Left 2
WINDOW 123 48 55 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -83 52 Left 2
SYMATTR Value {DC_OFFSET}
SYMATTR Value2 AC {AC_AMPLITUDE} {AC_PHASE}
SYMATTR InstName Vac
SYMBOL voltage 16 112 R0
WINDOW 3 48 55 Left 2
WINDOW 123 29 129 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -76 52 Left 2
SYMATTR Value SINE({DC_OFFSET} {AMPLITUDE} {FREQUENCY})
SYMATTR InstName Vtr
SYMBOL cap 704 704 R0
SYMATTR InstName C7
SYMATTR Value 100p
SYMBOL pot 928 624 M0
WINDOW 39 -321 78 Left 2
WINDOW 0 -54 18 Left 2
SYMATTR SpiceLine R=100k p={DISTORTION}
SYMATTR InstName VR1
SYMBOL res 1056 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 4.7k
SYMBOL cap 1168 496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 0.47µ
SYMBOL OpAmps\\UniversalOpAmp2 496 784 R0
SYMATTR InstName OP2
SYMBOL voltage 1952 128 R0
WINDOW 0 -93 57 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vps
SYMATTR Value 9
SYMBOL voltage 2192 128 R0
WINDOW 0 -135 56 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName +Vps/2
SYMATTR Value 4.5
SYMBOL voltage 2448 128 R0
WINDOW 0 -129 52 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName -Vps/2
SYMATTR Value -4.5
TEXT -776 8 Left 4 ;Component Parameters
TEXT 1088 240 Left 2 !.ac dec 100 {START_FREQ} {STOP_FREQ}
TEXT 64 240 Left 2 ;.tran {SIMULATION_TIME}
TEXT -600 104 Left 2 ;.step param DISTORTION 0 1 0.25
TEXT 456 568 Left 4 ;Operational Amplifier
TEXT -600 136 Left 2 ;.step param TONE 0 1 0.25
TEXT 64 208 Left 2 !.param SIMULATION_TIME={10/FREQUENCY}
TEXT 160 8 Left 4 ;Transient Analysis
TEXT 64 128 Left 2 !.param DC_OFFSET=0 AMPLITUDE=0.2 FREQUENCY=1000
TEXT 1184 8 Left 4 ;AC Analysis
TEXT 1088 128 Left 2 !.param AC_AMPLITUDE=1 AC_PHASE=0
TEXT 1088 208 Left 2 !.param START_FREQ=1 STOP_FREQ=44100/2
TEXT -912 264 Left 2 !.model 2SC2240 NPN(Is=6.734f Bf=200 Br=0.1)
TEXT -912 232 Left 2 !.model 1S1588 D(Is=2.52n N=1.752)
TEXT -912 136 Left 2 !.param TONE=0.5
TEXT -912 168 Left 2 !.param LEVEL=1
TEXT -600 168 Left 2 ;.step param LEVEL 0 1 0.25
TEXT -912 104 Left 2 !.param DISTORTION=0.5
TEXT 2064 8 Left 4 ;Power Supply
RECTANGLE Normal 1328 1072 272 448
RECTANGLE Normal 768 368 -96 -48
RECTANGLE Normal 1728 368 848 -48
RECTANGLE Normal -160 368 -960 -48
RECTANGLE Normal 2560 368 1792 -48
