Version 4
SHEET 1 6076 2100
WIRE 16 16 0 16
WIRE 1040 16 1024 16
WIRE 1952 96 1936 96
WIRE 2192 96 2176 96
WIRE 2448 96 2432 96
WIRE 16 128 16 16
WIRE 1040 128 1040 16
WIRE 1952 144 1952 96
WIRE 2192 144 2192 96
WIRE 2448 144 2448 96
WIRE 1952 272 1952 224
WIRE 2192 272 2192 224
WIRE 2448 272 2448 224
WIRE 16 320 16 208
WIRE 1040 320 1040 208
WIRE 464 512 224 512
WIRE 688 512 464 512
WIRE 464 560 464 512
WIRE 688 560 688 512
WIRE 688 672 688 640
WIRE 688 672 560 672
WIRE 464 704 464 624
WIRE 688 704 688 672
WIRE 1040 752 768 752
WIRE 1456 752 1040 752
WIRE 1040 848 1040 752
WIRE 464 864 464 784
WIRE 688 864 688 800
WIRE 688 864 464 864
WIRE 560 896 560 672
WIRE 688 896 688 864
WIRE 560 1008 560 960
WIRE 688 1008 688 976
WIRE 688 1008 560 1008
WIRE 848 1008 688 1008
WIRE 1040 1008 1040 928
WIRE 1040 1008 848 1008
WIRE 848 1072 848 1008
FLAG 1040 320 0
FLAG 16 320 0
FLAG 1456 752 OUT
IOPIN 1456 752 In
FLAG 1024 16 IN
IOPIN 1024 16 In
FLAG 224 512 IN
IOPIN 224 512 In
FLAG 848 1072 0
FLAG 1952 272 0
FLAG 1936 96 +9V
IOPIN 1936 96 In
FLAG 2192 272 0
FLAG 2176 96 +4.5V
IOPIN 2176 96 In
FLAG 2448 272 0
FLAG 2432 96 -4.5V
IOPIN 2432 96 In
SYMBOL voltage 1040 112 R0
WINDOW 3 -179 185 Left 2
WINDOW 123 48 55 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -83 52 Left 2
SYMATTR Value {DC_OFFSET}
SYMATTR Value2 AC {AC_AMPLITUDE} {AC_PHASE}
SYMATTR InstName Vac
SYMBOL voltage 16 112 R0
WINDOW 3 48 55 Left 2
WINDOW 123 29 129 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 -76 52 Left 2
SYMATTR Value SINE({DC_OFFSET} {AMPLITUDE} {FREQUENCY})
SYMATTR InstName Vtr
SYMBOL cap 448 560 R0
SYMATTR InstName C11
SYMATTR Value 22n
SYMBOL res 448 688 R0
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMBOL res 672 544 R0
SYMATTR InstName R16
SYMATTR Value 6.8k
SYMBOL pot 672 800 M180
WINDOW 39 34 14 Left 2
WINDOW 0 35 82 Left 2
SYMATTR SpiceLine R=20k p={TONE}
SYMATTR InstName VR2
SYMBOL res 672 880 R0
SYMATTR InstName R17
SYMATTR Value 6.8k
SYMBOL cap 544 896 R0
SYMATTR InstName C12
SYMATTR Value 0.1µ
SYMBOL voltage 1952 128 R0
WINDOW 0 -93 57 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vps
SYMATTR Value 9
SYMBOL voltage 2192 128 R0
WINDOW 0 -135 56 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName +Vps/2
SYMATTR Value 4.5
SYMBOL voltage 2448 128 R0
WINDOW 0 -129 52 Left 2
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName -Vps/2
SYMATTR Value -4.5
SYMBOL res 1024 832 R0
SYMATTR InstName VR3
SYMATTR Value 100k
TEXT -776 8 Left 4 ;Component Parameters
TEXT 1088 240 Left 2 !.ac dec 100 {START_FREQ} {STOP_FREQ}
TEXT 64 240 Left 2 ;.tran {SIMULATION_TIME}
TEXT -600 104 Left 2 ;.step param DISTORTION 0 1 0.25
TEXT -600 136 Left 2 ;.step param TONE 0 1 0.25
TEXT 904 600 Left 4 ;Passive Filter
TEXT 64 208 Left 2 !.param SIMULATION_TIME={10/FREQUENCY}
TEXT 160 8 Left 4 ;Transient Analysis
TEXT 64 128 Left 2 !.param DC_OFFSET=0 AMPLITUDE=0.2 FREQUENCY=1000
TEXT 1184 8 Left 4 ;AC Analysis
TEXT 1088 128 Left 2 !.param AC_AMPLITUDE=1 AC_PHASE=0
TEXT 1088 208 Left 2 !.param START_FREQ=1 STOP_FREQ=44100/2
TEXT -912 264 Left 2 !.model 2SC2240 NPN(Is=6.734f Bf=200 Br=0.1)
TEXT -912 232 Left 2 !.model 1S1588 D(Is=2.52n N=1.752)
TEXT -912 136 Left 2 !.param TONE=0.5
TEXT -912 168 Left 2 !.param LEVEL=1
TEXT -600 168 Left 2 ;.step param LEVEL 0 1 0.25
TEXT -912 104 Left 2 !.param DISTORTION=0.5
TEXT 2064 8 Left 4 ;Power Supply
RECTANGLE Normal 1424 1120 256 432
RECTANGLE Normal 768 368 -96 -48
RECTANGLE Normal 1728 368 848 -48
RECTANGLE Normal -160 368 -960 -48
RECTANGLE Normal 2560 368 1792 -48
